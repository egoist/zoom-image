{"version":3,"sources":["webpack:///client.5f79874e.js","webpack:///./src/utils.js","webpack:///./example/index.js","webpack:///./src/zoom-image.js","webpack:///./src/zoom.js","webpack:///./example/images/palm.jpg","webpack:///./example/images/trees.jpg"],"names":["webpackJsonp","module","exports","__webpack_require__","Object","defineProperty","value","windowWidth","document","documentElement","clientWidth","windowHeight","clientHeight","elemOffset","elem","rect","getBoundingClientRect","docElem","win","window","top","pageYOffset","clientTop","left","pageXOffset","clientLeft","once","type","handler","fn","e","target","removeEventListener","addEventListener","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","props","i","length","descriptor","key","protoProps","staticProps","_preact","_zoom","_zoom2","_palm","_palm2","_trees","_trees2","App","_Component","_ref","_temp","_this","_ret","this","_len","arguments","args","Array","_key","getPrototypeOf","apply","concat","imgs","forEach","img","_this2","h","class","href","src","ref","push","Component","render","body","_utils","Size","w","ZoomImage","offset","preservedTransform","style","transform","wrap","overlay","offsetWidth","size","naturalWidth","naturalHeight","createElement","classList","add","parentNode","insertBefore","appendChild","setAttribute","forceRepaint","scale","calculateScale","animate","maxScaleFactor","width","viewportWidth","viewportHeight","imageAspectRatio","viewportAspectRatio","imageOffset","scrollTop","viewportX","viewportY","imageCenterX","imageCenterY","height","tx","ty","tz","imgTr","wrapTr","remove","removeChild","removeAttribute","dispose","handleScroll","initialScrollPos","deltaY","Math","abs","closeCurrent","handleKeyup","keyCode","handleTouchStart","t","touches","initialTouchPos","pageY","handleTouchMove","handleClick","addCloseListeners","removeCloseListeners","force","current","close","prepareZoom","contains","metaKey","ctrlKey","open","getAttribute","_zoomImage2","zoom","el","_zoomImage","p"],"mappings":"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","file":"client.5f79874e.js","sourcesContent":["webpackJsonp([0,2],[\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar windowWidth = function windowWidth() {\n  return document.documentElement.clientWidth;\n};\nvar windowHeight = function windowHeight() {\n  return document.documentElement.clientHeight;\n};\n\nvar elemOffset = function elemOffset(elem) {\n  var rect = elem.getBoundingClientRect();\n  var docElem = document.documentElement;\n  var win = window;\n  return {\n    top: rect.top + win.pageYOffset - docElem.clientTop,\n    left: rect.left + win.pageXOffset - docElem.clientLeft\n  };\n};\n\nvar once = function once(elem, type, handler) {\n  var fn = function fn(e) {\n    e.target.removeEventListener(type, fn);\n    handler();\n  };\n  elem.addEventListener(type, fn);\n};\n\nexports.windowWidth = windowWidth;\nexports.windowHeight = windowHeight;\nexports.elemOffset = elemOffset;\nexports.once = once;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(9);\n\nvar _zoom = __webpack_require__(3);\n\nvar _zoom2 = _interopRequireDefault(_zoom);\n\n__webpack_require__(4);\n\n__webpack_require__(5);\n\nvar _palm = __webpack_require__(6);\n\nvar _palm2 = _interopRequireDefault(_palm);\n\nvar _trees = __webpack_require__(7);\n\nvar _trees2 = _interopRequireDefault(_trees);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar App = function (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = App.__proto__ || Object.getPrototypeOf(App)).call.apply(_ref, [this].concat(args))), _this), _this.imgs = [], _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(App, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.imgs.forEach(function (img) {\n        return (0, _zoom2.default)(img);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return (0, _preact.h)(\n        'div',\n        { 'class': 'container' },\n        (0, _preact.h)(\n          'h1',\n          null,\n          'Just tap the image!'\n        ),\n        (0, _preact.h)(\n          'p',\n          null,\n          (0, _preact.h)(\n            'a',\n            { href: 'https://github.com/egoist/zoom-image' },\n            'egoist/zoom-image'\n          )\n        ),\n        (0, _preact.h)(\n          'p',\n          null,\n          'Trust fund seitan chia, wolf lomo letterpress Bushwick before they sold out. Carles kogi fixie, squid twee Tonx readymade cred typewriter scenester locavore kale chips vegan organic. Meggings pug wolf Shoreditch typewriter skateboard. McSweeney\\'s iPhone chillwave, food truck direct trade disrupt flannel irony tousled Cosby sweater single-origin coffee. Organic disrupt bicycle rights, tattooed messenger bag flannel craft beer fashion axe bitters. Readymade sartorial craft beer, quinoa sustainable butcher Marfa Echo Park Terry Richardson gluten-free flannel retro cred mlkshk banjo. Salvia 90\\'s art party Blue Bottle, PBR&B cardigan 8-bit.'\n        ),\n        (0, _preact.h)(\n          'p',\n          null,\n          'Meggings irony fashion axe, tattooed master cleanse Blue Bottle stumptown bitters authentic flannel freegan paleo letterpress ugh sriracha. Wolf PBR&B art party aesthetic meh cliche. Sartorial before they sold out deep v, aesthetic PBR&B craft beer post-ironic synth keytar pork belly skateboard pour-over. Tonx cray pug Etsy, gastropub ennui wolf ethnic Odd Future viral master cleanse skateboard banjo. Pitchfork scenester cornhole, whatever try-hard ethnic banjo +1 gastropub American Apparel vinyl skateboard Shoreditch seitan. Blue Bottle keffiyeh Austin Helvetica art party. Portland ethnic fixie, beard retro direct trade ugh scenester Tumblr readymade authentic plaid pickled hashtag biodiesel.'\n        ),\n        (0, _preact.h)('img', { src: _palm2.default, ref: function ref(img) {\n            return _this2.imgs.push(img);\n          } }),\n        (0, _preact.h)(\n          'p',\n          null,\n          'Thundercats freegan Truffaut, four loko twee Austin scenester lo-fi seitan High Life paleo quinoa cray. Schlitz butcher ethical Tumblr, pop-up DIY keytar ethnic iPhone PBR sriracha. Tonx direct trade bicycle rights gluten-free flexitarian asymmetrical. Whatever drinking vinegar PBR XOXO Bushwick gentrify. Cliche semiotics banjo retro squid Wes Anderson. Fashion axe dreamcatcher you probably haven\\'t heard of them bicycle rights. Tote bag organic four loko ethical selfies gastropub, PBR fingerstache tattooed bicycle rights.'\n        ),\n        (0, _preact.h)(\n          'p',\n          null,\n          'Ugh Portland Austin, distillery tattooed typewriter polaroid pug Banksy Neutra keffiyeh. Shoreditch mixtape wolf PBR&B, tote bag dreamcatcher literally bespoke Odd Future selfies 90\\'s master cleanse vegan. Flannel tofu deep v next level pickled, authentic Etsy Shoreditch literally swag photo booth iPhone pug semiotics banjo. Bicycle rights butcher Blue Bottle, actually DIY semiotics Banksy banjo mixtape Austin pork belly post-ironic. American Apparel gastropub hashtag, McSweeney\\'s master cleanse occupy High Life bitters wayfarers next level bicycle rights. Wolf chia Terry Richardson, pop-up plaid kitsch ugh. Butcher +1 Carles, swag selfies Blue Bottle viral.'\n        ),\n        (0, _preact.h)(\n          'p',\n          null,\n          'Keffiyeh food truck organic letterpress leggings iPhone four loko hella pour-over occupy, Wes Anderson cray post-ironic. Neutra retro fixie gastropub +1, High Life semiotics. Vinyl distillery Etsy freegan flexitarian cliche jean shorts, Schlitz wayfarers skateboard tousled irony locavore XOXO meh. Ethnic Wes Anderson McSweeney\\'s messenger bag, mixtape XOXO slow-carb cornhole aesthetic Marfa banjo Thundercats bitters. Raw denim banjo typewriter cray Tumblr, High Life single-origin coffee. 90\\'s Tumblr cred, Terry Richardson occupy raw denim tofu fashion axe photo booth banh mi. Trust fund locavore Helvetica, fashion axe selvage authentic Shoreditch swag selfies stumptown +1.'\n        ),\n        (0, _preact.h)('img', { src: _trees2.default, ref: function ref(img) {\n            return _this2.imgs.push(img);\n          }, 'class': 'pull-left' }),\n        (0, _preact.h)(\n          'p',\n          null,\n          'Scenester chambray slow-carb, trust fund biodiesel ugh bicycle rights cornhole. Gentrify messenger bag Truffaut tousled roof party pork belly leggings, photo booth jean shorts. Austin readymade PBR plaid chambray. Squid Echo Park pour-over, wayfarers forage whatever locavore typewriter artisan deep v four loko. Locavore occupy Neutra Pitchfork McSweeney\\'s, wayfarers fingerstache. Actually asymmetrical drinking vinegar yr brunch biodiesel. Before they sold out sustainable readymade craft beer Portland gastropub squid Austin, roof party Thundercats chambray narwhal Bushwick pug.'\n        ),\n        (0, _preact.h)(\n          'p',\n          null,\n          'Literally typewriter chillwave, bicycle rights Carles flannel wayfarers. Biodiesel farm-to-table actually, locavore keffiyeh hella shabby chic pour-over try-hard Bushwick. Sriracha American Apparel Brooklyn, synth cray stumptown blog Bushwick +1 VHS hashtag. Wolf umami Carles Marfa, 90\\'s food truck Cosby sweater. Fanny pack try-hard keytar pop-up readymade, master cleanse four loko trust fund polaroid salvia. Photo booth kitsch forage chambray, Carles scenester slow-carb lomo cardigan dreamcatcher. Swag asymmetrical leggings, biodiesel Tonx shabby chic ethnic master cleanse freegan.'\n        ),\n        (0, _preact.h)(\n          'p',\n          null,\n          'Raw denim Banksy shabby chic, 8-bit salvia narwhal fashion axe. Ethical Williamsburg four loko, chia kale chips distillery Shoreditch messenger bag swag iPhone Pitchfork. Viral PBR&B single-origin coffee quinoa readymade, ethical chillwave drinking vinegar gluten-free Wes Anderson kitsch Tumblr synth actually bitters. Butcher McSweeney\\'s forage mlkshk kogi fingerstache. Selvage scenester butcher Shoreditch, Carles beard plaid disrupt DIY. Pug readymade selvage retro, Austin salvia vinyl master cleanse flexitarian deep v bicycle rights plaid Terry Richardson mlkshk pour-over. Trust fund try-hard banh mi Brooklyn, 90\\'s Etsy kogi YOLO salvia.'\n        )\n      );\n    }\n  }]);\n\n  return App;\n}(_preact.Component);\n\n(0, _preact.render)((0, _preact.h)(App, null), document.body);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Size = function Size(w, h) {\n  _classCallCheck(this, Size);\n\n  this.w = w;\n  this.h = h;\n};\n\nvar ZoomImage = function () {\n  function ZoomImage(img, offset) {\n    _classCallCheck(this, ZoomImage);\n\n    this.img = img;\n    this.preservedTransform = img.style.transform;\n    this.wrap = null;\n    this.overlay = null;\n    this.offset = offset;\n  }\n\n  _createClass(ZoomImage, [{\n    key: 'forceRepaint',\n    value: function forceRepaint() {\n      var _ = this.img.offsetWidth;\n      return;\n    }\n  }, {\n    key: 'zoom',\n    value: function zoom() {\n      var size = new Size(this.img.naturalWidth, this.img.naturalHeight);\n\n      this.wrap = document.createElement('div');\n      this.wrap.classList.add('zoom-img-wrap');\n      this.img.parentNode.insertBefore(this.wrap, this.img);\n      this.wrap.appendChild(this.img);\n\n      this.img.classList.add('zoom-img');\n      this.img.setAttribute('data-action', 'zoom-out');\n\n      this.overlay = document.createElement('div');\n      this.overlay.classList.add('zoom-overlay');\n      document.body.appendChild(this.overlay);\n\n      this.forceRepaint();\n      var scale = this.calculateScale(size);\n\n      this.forceRepaint();\n      this.animate(scale);\n\n      document.body.classList.add('zoom-overlay-open');\n    }\n  }, {\n    key: 'calculateScale',\n    value: function calculateScale(size) {\n      var maxScaleFactor = size.w / this.img.width;\n\n      var viewportWidth = (0, _utils.windowWidth)() - this.offset;\n      var viewportHeight = (0, _utils.windowHeight)() - this.offset;\n      var imageAspectRatio = size.w / size.h;\n      var viewportAspectRatio = viewportWidth / viewportHeight;\n\n      if (size.w < viewportWidth && size.h < viewportHeight) {\n        return maxScaleFactor;\n      } else if (imageAspectRatio < viewportAspectRatio) {\n        return viewportHeight / size.h * maxScaleFactor;\n      }\n      return viewportWidth / size.w * maxScaleFactor;\n    }\n  }, {\n    key: 'animate',\n    value: function animate(scale) {\n      var imageOffset = (0, _utils.elemOffset)(this.img);\n      var scrollTop = window.pageYOffset;\n\n      var viewportX = (0, _utils.windowWidth)() / 2;\n      var viewportY = scrollTop + (0, _utils.windowHeight)() / 2;\n\n      var imageCenterX = imageOffset.left + this.img.width / 2;\n      var imageCenterY = imageOffset.top + this.img.height / 2;\n\n      var tx = viewportX - imageCenterX;\n      var ty = viewportY - imageCenterY;\n      var tz = 0;\n\n      var imgTr = 'scale(' + scale + ')';\n      var wrapTr = 'translate3d(' + tx + 'px, ' + ty + 'px, ' + tz + 'px)';\n\n      this.img.style.transform = imgTr;\n      this.wrap.style.transform = wrapTr;\n    }\n  }, {\n    key: 'dispose',\n    value: function dispose() {\n      if (this.wrap === null || this.wrap.parentNode === null) {\n        return;\n      }\n      this.img.classList.remove('zoom-img');\n      this.img.setAttribute('data-action', 'zoom');\n\n      this.wrap.parentNode.insertBefore(this.img, this.wrap);\n      this.wrap.parentNode.removeChild(this.wrap);\n\n      document.body.removeChild(this.overlay);\n      document.body.classList.remove('zoom-overlay-transitioning');\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      var _this = this;\n\n      document.body.classList.add('zoom-overlay-transitioning');\n      this.img.style.transform = this.preservedTransform;\n      if (this.img.style.length === 0) {\n        this.img.removeAttribute('style');\n      }\n      this.wrap.style.transform = 'none';\n\n      (0, _utils.once)(this.img, 'transitionend', function () {\n        _this.dispose();\n        // remove class should happen after dispose. Otherwise,\n        // a new click event could fire and create a duplicate ZoomImage for\n        // the same <img> element.\n        document.body.classList.remove('zoom-overlay-open');\n      });\n    }\n  }]);\n\n  return ZoomImage;\n}();\n\nexports.default = ZoomImage;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (el) {\n  el.setAttribute('data-action', 'zoom');\n  el.addEventListener('click', prepareZoom);\n  return function () {\n    return el.removeEventListener('click', prepareZoom);\n  };\n};\n\nvar _zoomImage = __webpack_require__(2);\n\nvar _zoomImage2 = _interopRequireDefault(_zoomImage);\n\nvar _utils = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Pure JavaScript implementation of zoom.js.\n *\n * Original preamble:\n * zoom.js - It's the best way to zoom an image\n * @version v0.0.2\n * @link https://github.com/fat/zoom.js\n * @license MIT\n *\n * Needs a related CSS file to work. See the README at\n * https://github.com/nishanths/zoom.js for more info.\n *\n * This is a fork of the original zoom.js implementation by @fat.\n * Copyrights for the original project are held by @fat. All other copyright\n * for changes in the fork are held by Nishanth Shanmugham.\n *\n * Copyright (c) 2013 @fat\n * The MIT License. Copyright © 2016 Nishanth Shanmugham.\n */\n\nvar current = null;\nvar offset = 80;\nvar initialScrollPos = -1;\nvar initialTouchPos = -1;\n\nfunction handleScroll() {\n  if (initialScrollPos === -1) {\n    initialScrollPos = window.pageYOffset;\n  }\n\n  var deltaY = Math.abs(initialScrollPos - window.pageYOffset);\n  if (deltaY >= 40) {\n    closeCurrent();\n  }\n}\n\nfunction handleKeyup(e) {\n  if (e.keyCode === 27) {\n    closeCurrent();\n  }\n}\n\nfunction handleTouchStart(e) {\n  var t = e.touches[0];\n  if (t === null) {\n    return;\n  }\n\n  initialTouchPos = t.pageY;\n  e.target.addEventListener('touchmove', handleTouchMove);\n}\n\nfunction handleTouchMove(e) {\n  var t = e.touches[0];\n  if (t === null) {\n    return;\n  }\n\n  if (Math.abs(t.pageY - initialTouchPos) > 10) {\n    closeCurrent();\n    e.target.removeEventListener('touchmove', handleTouchMove);\n  }\n}\n\nfunction handleClick() {\n  closeCurrent();\n}\n\nfunction addCloseListeners() {\n  document.addEventListener('scroll', handleScroll);\n  document.addEventListener('keyup', handleKeyup);\n  document.addEventListener('touchstart', handleTouchStart);\n  document.addEventListener('click', handleClick, true);\n}\n\nfunction removeCloseListeners() {\n  document.removeEventListener('scroll', handleScroll);\n  document.removeEventListener('keyup', handleKeyup);\n  document.removeEventListener('touchstart', handleTouchStart);\n  document.removeEventListener('click', handleClick, true);\n}\n\nfunction closeCurrent(force) {\n  if (current === null) {\n    return;\n  }\n  if (force) {\n    current.dispose();\n  } else {\n    current.close();\n  }\n  removeCloseListeners();\n  current = null;\n}\n\nfunction prepareZoom(e) {\n  if (document.body.classList.contains('zoom-overlay-open')) {\n    return;\n  }\n\n  if (e.metaKey || e.ctrlKey) {\n    window.open(e.target.getAttribute('data-original') || e.target.src, '_blank');\n    return;\n  }\n\n  if (e.target.width >= (0, _utils.windowWidth)() - offset) {\n    return;\n  }\n\n  closeCurrent(true);\n\n  current = new _zoomImage2.default(e.target, offset);\n  current.zoom();\n\n  addCloseListeners();\n}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/palm.3cdd5e16.jpg\";\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/trees.29456d22.jpg\";\n\n/***/ }),\n/* 8 */,\n/* 9 */,\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(1);\n\n\n/***/ })\n],[10]);\n\n\n// WEBPACK FOOTER //\n// client.5f79874e.js","const windowWidth = () => document.documentElement.clientWidth\nconst windowHeight = () => document.documentElement.clientHeight\n\nconst elemOffset = elem => {\n  const rect = elem.getBoundingClientRect()\n  const docElem = document.documentElement\n  const win = window\n  return {\n    top: rect.top + win.pageYOffset - docElem.clientTop,\n    left: rect.left + win.pageXOffset - docElem.clientLeft\n  }\n}\n\nconst once = (elem, type, handler) => {\n  const fn = e => {\n    e.target.removeEventListener(type, fn)\n    handler()\n  }\n  elem.addEventListener(type, fn)\n}\n\nexport { windowWidth, windowHeight, elemOffset, once }\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","import { render, Component } from 'preact'\nimport zoom from '../src/zoom'\nimport '../css/zoom-image.css'\nimport './style.css'\n\nimport palm from './images/palm.jpg'\nimport tree from './images/trees.jpg'\n\nclass App extends Component {\n  imgs = []\n\n  componentDidMount() {\n    this.imgs.forEach(img => zoom(img))\n  }\n\n  render() {\n    return (\n      <div class=\"container\">\n        <h1>Just tap the image!</h1>\n        <p>\n          <a href=\"https://github.com/egoist/zoom-image\">egoist/zoom-image</a>\n        </p>\n        <p>\n          Trust fund seitan chia, wolf lomo letterpress Bushwick before they sold out. Carles kogi fixie, squid twee Tonx readymade cred typewriter scenester locavore kale chips vegan organic. Meggings pug wolf Shoreditch typewriter skateboard. McSweeney's iPhone chillwave, food truck direct trade disrupt flannel irony tousled Cosby sweater single-origin coffee. Organic disrupt bicycle rights, tattooed messenger bag flannel craft beer fashion axe bitters. Readymade sartorial craft beer, quinoa sustainable butcher Marfa Echo Park Terry Richardson gluten-free flannel retro cred mlkshk banjo. Salvia 90's art party Blue Bottle, PBR&B cardigan 8-bit.\n        </p>\n        <p>\n          Meggings irony fashion axe, tattooed master cleanse Blue Bottle stumptown bitters authentic flannel freegan paleo letterpress ugh sriracha. Wolf PBR&B art party aesthetic meh cliche. Sartorial before they sold out deep v, aesthetic PBR&B craft beer post-ironic synth keytar pork belly skateboard pour-over. Tonx cray pug Etsy, gastropub ennui wolf ethnic Odd Future viral master cleanse skateboard banjo. Pitchfork scenester cornhole, whatever try-hard ethnic banjo +1 gastropub American Apparel vinyl skateboard Shoreditch seitan. Blue Bottle keffiyeh Austin Helvetica art party. Portland ethnic fixie, beard retro direct trade ugh scenester Tumblr readymade authentic plaid pickled hashtag biodiesel.\n        </p>\n        <img src={ palm } ref={ img => this.imgs.push(img) } />\n        <p>\n          Thundercats freegan Truffaut, four loko twee Austin scenester lo-fi seitan High Life paleo quinoa cray. Schlitz butcher ethical Tumblr, pop-up DIY keytar ethnic iPhone PBR sriracha. Tonx direct trade bicycle rights gluten-free flexitarian asymmetrical. Whatever drinking vinegar PBR XOXO Bushwick gentrify. Cliche semiotics banjo retro squid Wes Anderson. Fashion axe dreamcatcher you probably haven't heard of them bicycle rights. Tote bag organic four loko ethical selfies gastropub, PBR fingerstache tattooed bicycle rights.\n        </p>\n        <p>\n          Ugh Portland Austin, distillery tattooed typewriter polaroid pug Banksy Neutra keffiyeh. Shoreditch mixtape wolf PBR&B, tote bag dreamcatcher literally bespoke Odd Future selfies 90's master cleanse vegan. Flannel tofu deep v next level pickled, authentic Etsy Shoreditch literally swag photo booth iPhone pug semiotics banjo. Bicycle rights butcher Blue Bottle, actually DIY semiotics Banksy banjo mixtape Austin pork belly post-ironic. American Apparel gastropub hashtag, McSweeney's master cleanse occupy High Life bitters wayfarers next level bicycle rights. Wolf chia Terry Richardson, pop-up plaid kitsch ugh. Butcher +1 Carles, swag selfies Blue Bottle viral.\n        </p>\n        <p>\n          Keffiyeh food truck organic letterpress leggings iPhone four loko hella pour-over occupy, Wes Anderson cray post-ironic. Neutra retro fixie gastropub +1, High Life semiotics. Vinyl distillery Etsy freegan flexitarian cliche jean shorts, Schlitz wayfarers skateboard tousled irony locavore XOXO meh. Ethnic Wes Anderson McSweeney's messenger bag, mixtape XOXO slow-carb cornhole aesthetic Marfa banjo Thundercats bitters. Raw denim banjo typewriter cray Tumblr, High Life single-origin coffee. 90's Tumblr cred, Terry Richardson occupy raw denim tofu fashion axe photo booth banh mi. Trust fund locavore Helvetica, fashion axe selvage authentic Shoreditch swag selfies stumptown +1.\n        </p>\n          <img src={ tree } ref={ img => this.imgs.push(img) } class=\"pull-left\" />\n        <p>\n          Scenester chambray slow-carb, trust fund biodiesel ugh bicycle rights cornhole. Gentrify messenger bag Truffaut tousled roof party pork belly leggings, photo booth jean shorts. Austin readymade PBR plaid chambray. Squid Echo Park pour-over, wayfarers forage whatever locavore typewriter artisan deep v four loko. Locavore occupy Neutra Pitchfork McSweeney's, wayfarers fingerstache. Actually asymmetrical drinking vinegar yr brunch biodiesel. Before they sold out sustainable readymade craft beer Portland gastropub squid Austin, roof party Thundercats chambray narwhal Bushwick pug.\n        </p>\n        <p>\n          Literally typewriter chillwave, bicycle rights Carles flannel wayfarers. Biodiesel farm-to-table actually, locavore keffiyeh hella shabby chic pour-over try-hard Bushwick. Sriracha American Apparel Brooklyn, synth cray stumptown blog Bushwick +1 VHS hashtag. Wolf umami Carles Marfa, 90's food truck Cosby sweater. Fanny pack try-hard keytar pop-up readymade, master cleanse four loko trust fund polaroid salvia. Photo booth kitsch forage chambray, Carles scenester slow-carb lomo cardigan dreamcatcher. Swag asymmetrical leggings, biodiesel Tonx shabby chic ethnic master cleanse freegan.\n        </p>\n        <p>\n          Raw denim Banksy shabby chic, 8-bit salvia narwhal fashion axe. Ethical Williamsburg four loko, chia kale chips distillery Shoreditch messenger bag swag iPhone Pitchfork. Viral PBR&B single-origin coffee quinoa readymade, ethical chillwave drinking vinegar gluten-free Wes Anderson kitsch Tumblr synth actually bitters. Butcher McSweeney's forage mlkshk kogi fingerstache. Selvage scenester butcher Shoreditch, Carles beard plaid disrupt DIY. Pug readymade selvage retro, Austin salvia vinyl master cleanse flexitarian deep v bicycle rights plaid Terry Richardson mlkshk pour-over. Trust fund try-hard banh mi Brooklyn, 90's Etsy kogi YOLO salvia.\n        </p>\n      </div>\n    )\n  }\n}\n\nrender(<App />, document.body)\n\n\n\n// WEBPACK FOOTER //\n// ./example/index.js","import { elemOffset, once, windowWidth, windowHeight } from './utils'\n\nclass Size {\n  constructor(w, h) {\n    this.w = w\n    this.h = h\n  }\n}\n\nexport default class ZoomImage {\n  constructor(img, offset) {\n    this.img = img\n    this.preservedTransform = img.style.transform\n    this.wrap = null\n    this.overlay = null\n    this.offset = offset\n  }\n\n  forceRepaint() {\n    const _ = this.img.offsetWidth\n    return\n  }\n\n  zoom() {\n    const size = new Size(this.img.naturalWidth, this.img.naturalHeight)\n\n    this.wrap = document.createElement('div')\n    this.wrap.classList.add('zoom-img-wrap')\n    this.img.parentNode.insertBefore(this.wrap, this.img)\n    this.wrap.appendChild(this.img)\n\n    this.img.classList.add('zoom-img')\n    this.img.setAttribute('data-action', 'zoom-out')\n\n    this.overlay = document.createElement('div')\n    this.overlay.classList.add('zoom-overlay')\n    document.body.appendChild(this.overlay)\n\n    this.forceRepaint()\n    const scale = this.calculateScale(size)\n\n    this.forceRepaint()\n    this.animate(scale)\n\n    document.body.classList.add('zoom-overlay-open')\n  }\n\n  calculateScale(size) {\n    const maxScaleFactor = size.w / this.img.width\n\n    const viewportWidth = (windowWidth() - this.offset)\n    const viewportHeight = (windowHeight() - this.offset)\n    const imageAspectRatio = size.w / size.h\n    const viewportAspectRatio = viewportWidth / viewportHeight\n\n    if (size.w < viewportWidth && size.h < viewportHeight) {\n      return maxScaleFactor\n    } else if (imageAspectRatio < viewportAspectRatio) {\n      return (viewportHeight / size.h) * maxScaleFactor\n    }\n    return (viewportWidth / size.w) * maxScaleFactor\n  }\n\n  animate(scale) {\n    const imageOffset = elemOffset(this.img)\n    const scrollTop = window.pageYOffset\n\n    const viewportX = (windowWidth() / 2)\n    const viewportY = scrollTop + (windowHeight() / 2)\n\n    const imageCenterX = imageOffset.left + (this.img.width / 2)\n    const imageCenterY = imageOffset.top + (this.img.height / 2)\n\n    const tx = viewportX - imageCenterX\n    const ty = viewportY - imageCenterY\n    const tz = 0\n\n    const imgTr = `scale(${scale})`\n    const wrapTr = `translate3d(${tx}px, ${ty}px, ${tz}px)`\n\n    this.img.style.transform = imgTr\n    this.wrap.style.transform = wrapTr\n  }\n\n  dispose() {\n    if (this.wrap === null || this.wrap.parentNode === null) {\n      return\n    }\n    this.img.classList.remove('zoom-img')\n    this.img.setAttribute('data-action', 'zoom')\n\n    this.wrap.parentNode.insertBefore(this.img, this.wrap)\n    this.wrap.parentNode.removeChild(this.wrap)\n\n    document.body.removeChild(this.overlay)\n    document.body.classList.remove('zoom-overlay-transitioning')\n  }\n\n  close() {\n    document.body.classList.add('zoom-overlay-transitioning')\n    this.img.style.transform = this.preservedTransform\n    if (this.img.style.length === 0) {\n      this.img.removeAttribute('style')\n    }\n    this.wrap.style.transform = 'none'\n\n    once(this.img, 'transitionend', () => {\n      this.dispose()\n      // remove class should happen after dispose. Otherwise,\n      // a new click event could fire and create a duplicate ZoomImage for\n      // the same <img> element.\n      document.body.classList.remove('zoom-overlay-open')\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/zoom-image.js","/**\n * Pure JavaScript implementation of zoom.js.\n *\n * Original preamble:\n * zoom.js - It's the best way to zoom an image\n * @version v0.0.2\n * @link https://github.com/fat/zoom.js\n * @license MIT\n *\n * Needs a related CSS file to work. See the README at\n * https://github.com/nishanths/zoom.js for more info.\n *\n * This is a fork of the original zoom.js implementation by @fat.\n * Copyrights for the original project are held by @fat. All other copyright\n * for changes in the fork are held by Nishanth Shanmugham.\n *\n * Copyright (c) 2013 @fat\n * The MIT License. Copyright © 2016 Nishanth Shanmugham.\n */\n\nimport ZoomImage from './zoom-image'\nimport { windowWidth } from './utils'\n\nlet current = null\nconst offset = 80\nlet initialScrollPos = -1\nlet initialTouchPos = -1\n\nfunction handleScroll() {\n  if (initialScrollPos === -1) {\n    initialScrollPos = window.pageYOffset\n  }\n\n  const deltaY = Math.abs(initialScrollPos - window.pageYOffset)\n  if (deltaY >= 40) {\n    closeCurrent()\n  }\n}\n\nfunction handleKeyup(e) {\n  if (e.keyCode === 27) {\n    closeCurrent()\n  }\n}\n\nfunction handleTouchStart(e) {\n  const t = e.touches[0]\n  if (t === null) {\n    return\n  }\n\n  initialTouchPos = t.pageY\n  e.target.addEventListener('touchmove', handleTouchMove)\n}\n\nfunction handleTouchMove(e) {\n  const t = e.touches[0]\n  if (t === null) {\n    return\n  }\n\n  if (Math.abs(t.pageY - initialTouchPos) > 10) {\n    closeCurrent()\n    e.target.removeEventListener('touchmove', handleTouchMove)\n  }\n}\n\nfunction handleClick() {\n  closeCurrent()\n}\n\nfunction addCloseListeners() {\n  document.addEventListener('scroll', handleScroll)\n  document.addEventListener('keyup', handleKeyup)\n  document.addEventListener('touchstart', handleTouchStart)\n  document.addEventListener('click', handleClick, true)\n}\n\nfunction removeCloseListeners() {\n  document.removeEventListener('scroll', handleScroll)\n  document.removeEventListener('keyup', handleKeyup)\n  document.removeEventListener('touchstart', handleTouchStart)\n  document.removeEventListener('click', handleClick, true)\n}\n\nfunction closeCurrent(force) {\n  if (current === null) {\n    return\n  }\n  if (force) {\n    current.dispose()\n  } else {\n    current.close()\n  }\n  removeCloseListeners()\n  current = null\n}\n\nfunction prepareZoom(e) {\n  if (document.body.classList.contains('zoom-overlay-open')) {\n    return\n  }\n\n  if (e.metaKey || e.ctrlKey) {\n    window.open((e.target.getAttribute('data-original') || e.target.src), '_blank')\n    return\n  }\n\n  if (e.target.width >= windowWidth() - offset) {\n    return\n  }\n\n  closeCurrent(true)\n\n  current = new ZoomImage(e.target, offset)\n  current.zoom()\n\n  addCloseListeners()\n}\n\nexport default function (el) {\n  el.setAttribute('data-action', 'zoom')\n  el.addEventListener('click', prepareZoom)\n  return () => el.removeEventListener('click', prepareZoom)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/zoom.js","module.exports = __webpack_public_path__ + \"static/palm.3cdd5e16.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./example/images/palm.jpg\n// module id = 6\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/trees.29456d22.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./example/images/trees.jpg\n// module id = 7\n// module chunks = 0"],"sourceRoot":""}